/**
 * Collection.isEmpty() should be used to test for emptiness
 *
 * https://rules.sonarsource.com/java/type/Code%20Smell/RSPEC-1155
 */

rewrites(
    $MethodInvocationExpression(
        $MethodInvocationIdentifiers(ids, nil, "isEmpty"),
        nil
    ), A, B) :-
    expression($EqualsExpression(
            $MethodInvocationExpression(
                $MethodInvocationIdentifiers(ids, nil, "size"),
                nil),
            $LiteralExpression($IntegerLiteral("0"))), A, B).

