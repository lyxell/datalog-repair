/* Pre  [:x].equals("[:y]") */
/* Post "[:y]".equals([:x]) */
replace_node_with_string("fix_null_pointer_exceptions_by_changing_the_order_of_arguments_in_string_comparison", invocation,
    cat(@node_to_string(code, arg), ".equals(", @node_to_string(code, subject), ")")
) :-
    method_invocation(invocation, subject, "equals", [arg, nil]),
    source_code(_, code),
    string_literal(arg),
    has_type(subject, ["java.lang", "String", nil]),
    ! string_literal(subject).
